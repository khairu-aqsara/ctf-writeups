import urllib.parse, base64, time, urllib, math, random

def _p(text):
    text = text.replace("{b}", "\033[30m")
    text = text.replace("{r}", "\033[31m")
    text = text.replace("{g}", "\033[32m")
    text = text.replace("{y}", "\033[33m")
    text = text.replace("{bl}", "\033[34m")
    text = text.replace("{m}", "\033[35m")
    text = text.replace("{c}", "\033[36m")
    text = text.replace("{w}", "\033[37m")
    text = text.replace("{rs}", "\033[39m")
    text = text.replace("{bgb}", "\033[40m")
    text = text.replace("{bgr}", "\033[41m")
    text = text.replace("{bgg}", "\033[42m")
    text = text.replace("{bgy}", "\033[43m")
    text = text.replace("{bgbl}", "\033[44m")
    text = text.replace("{bgm}", "\033[45m")
    text = text.replace("{bgc}", "\033[46m")
    text = text.replace("{bgw}", "\033[47m")
    print(text, flush=True)

_p("{r}-= {w}Selamat datang di CTFR {r}=-{w}")
_p("{r}-= {w}Kalian disini dapat mengeksekusi Kode Python, akan tetapi ada fungsi yang di {r}Blacklist{w} yaah {r}=-{w}")
blacklist = ["import", "os", "blacklist", "from", "eval", "system", "_", "/bin/sh", "/bin", "/", "sh", ".", ";", "cat", "flag", "input"]                             

_p("{r}-= {w}Blacklist: {c}%s{w} {r}=-{w}" % blacklist)
_p("{r}-= {w}Library: {c}%s{w} {r}=-{w}" % "base64, urllib.parse, time, urllib, math, random")
_p("{g}======================================================================{w}")
_p("[{g}+{w}] Contoh Kode : {bl}%s{w}" % "print (\"Hallo Dunia\")")
_p("[{bl}?{w}] Input Disini: ")
myInput = input("")

if not myInput == "":
    _p("[{g}+{w}] Kode yang dieksekusi : {bl}%s{w}" % myInput)
    try:
        for x in blacklist: 
                myInput = myInput.replace(x, "")  

        for x in blacklist:
                myInput = myInput.replace(x, "")

        for x in blacklist: 
            if x in myInput:
                    _p("[{r}!{w}] Kode yang anda terapkan terdapat kode yang terlarang!")
                    exit(0)

        myInput = urllib.parse.unquote(myInput) 
        hasil = eval(myInput)
        _p("[{c}x{w}] Hasil : {y}%s{w}" % (hasil)) 
    except Exception as ex:
        _p("[{r}-{w}] Exception : {r}" + str(ex) + "{w}") 
exit(0)